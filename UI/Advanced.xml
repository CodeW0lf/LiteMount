<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">

<!-- Copyright 2011-2017 Mike Battersby -->

<Script file="Advanced.lua" />

<Frame name="LiteMountOptionsAdvanced" hidden="true" inherits="LiteMountOptionsPanelTemplate">

    <Frames>
        <Frame name="$parentEditBoxContainer" parentKey="EditBoxContainer">

            <Anchors>
                <Anchor point="TOP" y="-128" />
                <Anchor point="LEFT" x="32" />
                <Anchor point="RIGHT" x="-32" />
                <Anchor point="BOTTOM" y="64" />
            </Anchors>

            <Backdrop edgefile="Interface\Tooltips\UI-Tooltip-Border" bgfile="Interface\Tooltips\UI-Tooltip-Background" tile="true">
                <EdgeSize val="16" />
                <TileSize val="16" />
                <BackgroundInsets>
                    <AbsInset left="5" right="5" top="5" bottom="5" />
                </BackgroundInsets>
            </Backdrop>

            <Scripts>
                <OnLoad>
                    self:SetBackdropBorderColor(0.6, 0.6, 0.6, 0.8)
                    self:SetBackdropColor(0, 0, 0, 0.5)
                </OnLoad>
            </Scripts>

            <Frames>
                <EditBox name="$parentEditBox" parentKey="EditBox" multiLine="true" autoFocus="false">

                    <Anchors>
                        <Anchor point="TOPLEFT" x="8" y="-8" />
                        <Anchor point="BOTTOMRIGHT" x="-8" y="8" />
                    </Anchors>

                    <Scripts>
                        <OnTextChanged function="$parent_OnTextChanged" />
                        <OnEscapePressed function="EditBox_ClearFocus" />
                        <OnLoad>
                            self:Disable()
                            self:SetAlpha(0.5)
                            self.SetOption = function (self, v)
                                end
                            self.GetOption = function (self)
                                    print("EDITBOX GETOPTION: " .. tostring(LiteMountOptionsAdvanced.currentButtonIndex))
                                    local i = LiteMountOptionsAdvanced.currentButtonIndex or 1
                                    return LiteMount.actions[i].actionList
                                end
                            self.GetOptionDefault = function (self)
                                    local i = LiteMountOptionsAdvanced.currentButtonIndex or 1
                                    return LiteMount.actions[i].actionList
                                end
                            LiteMountOptionsControl_OnLoad(self, LiteMountOptionsAdvanced)
                        </OnLoad>
                    </Scripts>
                    <FontString inherits="GameFontHighlight" />
                </EditBox>

                <Button name="$parentUnlockButton" parentKey="UnlockButton" inherits="UIPanelButtonTemplate" text="UNLOCK">
                    <Size x="96" y="22" />
                    <Anchors>
                        <Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" x="-8" y="-3" />
                    </Anchors>
                    <Scripts>
                        <OnClick>
                            local eb = self:GetParent().EditBox
                            eb:SetAlpha(1.0)
                            eb:Enable()
                            self:Hide()
                        </OnClick>
                    </Scripts>
                </Button>
            </Frames>
        </Frame>

        <Frame name="$parentBindingDropDown" parentkey="BindingDropDown" inherits="UIDropDownMenuTemplate">
            <Size x="93" y="22" />
            <Anchors>
                <Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeKey="$parent.EditBoxContainer" x="-8" />
            </Anchors>
        </Frame>

    </Frames>

    <Layers>
        <Layer level="ARTWORK">
            <FontString inherits="GameFontNormal" justifyV="TOP" justifyH="LEFT" text="LM_ADVANCED_EXP">
                <Anchors>
                    <Anchor point="TOP" y="-48" />
                    <Anchor point="LEFT" x="48" />
                    <Anchor point="RIGHT" x="-48" />
                </Anchors>
            </FontString>
        </Layer>
    </Layers>

    <Scripts>
        <OnLoad function="LiteMountOptionsAdvanced_OnLoad" />
    </Scripts>
</Frame>

</Ui>
