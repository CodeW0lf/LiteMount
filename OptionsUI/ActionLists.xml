<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">

<!-- Copyright 2011-2016 Mike Battersby -->

<Script file="ActionLists.lua" />

<Button name="LM_OptionsUISelectionButtonTemplate" virtual="true">
    <Size x="128" y="18" />
    <ButtonText parentKey="Text" justifyH="LEFT" wordwrap="false" />
    <NormalFont style="GameFontNormal" />
    <HighlightFont style="GameFontHighlight" />
    <HighlightTexture file="Interface\QuestFrame\UI-QuestLogTitleHighlight" alphaMode="ADD">
        <Anchors>
            <Anchor point="TOPLEFT" x="0" y="1" />
            <Anchor point="BOTTOMRIGHT" x="0" y="1" />
        </Anchors>
    </HighlightTexture>
    <Scripts>
        <OnLoad>
            self:GetHighlightTexture():SetVertexColor(0.196, 0.388, 0.8)
            self:RegisterForClicks("LeftButtonUp")
        </OnLoad>
        <OnClick>
        </OnClick>
    </Scripts>
</Button>

<Frame name="LM_OptionsUIActionLists" hidden="true" inherits="LM_OptionsUIPanelTemplate">

    <Frames>

        <Frame name="$parentSelection" parentKey="Selection" inherits="OptionsFrameListTemplate">
            <Size x="128" y="376" />
            <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-128" />
                <Anchor point="BOTTOMLEFT"  x="16" y="64" />
            </Anchors>
            <Scripts>
                <OnLoad>
                    -- OptionsList_OnLoad relies on a y Size set to know how
                    -- many buttons to make
                    self.update = LM_OptionsUIActionListsSelection_Update
                    OptionsList_OnLoad(self, "LM_OptionsUISelectionButtonTemplate")
                </OnLoad>
                <OnShow>
                    self:update()
                </OnShow>
            </Scripts>
        </Frame>

        <Frame name="$parentEditBoxContainer" parentKey="EditBoxContainer" >
            <Anchors>
                <Anchor point="TOPLEFT"    relativeTo="$parentSelection" relativePoint="TOPRIGHT" />
                <Anchor point="BOTTOMLEFT" relativeTo="$parentSelection" relativePoint="BOTTOMRIGHT" />
                <Anchor point="RIGHT" x="-16" />
            </Anchors>
            <Backdrop edgefile="Interface\Tooltips\UI-Tooltip-Border" bgfile="Interface\Tooltips\UI-Tooltip-Background" tile="true">
                <EdgeSize val="16" />
                <TileSize val="16" />
                <BackgroundInsets>
                    <AbsInset left="3" right="3" top="3" bottom="3" />
                </BackgroundInsets>
            </Backdrop>
            <Scripts>
                <OnLoad>
                    self:SetBackdropColor(0, 0, 0, 0.6)
                    self:SetBackdropBorderColor(1, 1, 1, 0.6)
                </OnLoad>
            </Scripts>
        </Frame>

        <EditBox name="$parentEditBox" parentKey="EditBox" multiLine="true" autoFocus="false" countInvisibleLetters="true" font="LiteMountMonoFont">

            <Anchors>
                <Anchor relativeTo="$parentEditBoxContainer" point="TOPLEFT" x="16" y="-32" />
                <Anchor relativeTo="$parentEditBoxContainer" point="BOTTOMRIGHT" x="-16" y="32" />
            </Anchors>

            <Scripts>
                <!-- <OnTextChanged function="LM_OptionsUIActionLists_OnTextChanged" /> -->
                <OnEscapePressed function="EditBox_ClearFocus" />
                <OnLoad function = "LM_OptionsUIActionListsEditBox_OnLoad" />
            </Scripts>
        </EditBox>

        <Button name="$parentDelete" parentKey="Delete" inherits="UIPanelButtonTemplate" text="DELETE">
            <Size x="96" y="22" />
            <Anchors>
                <Anchor relativeTo="$parentEditBoxContainer" point="TOPRIGHT" relativePoint="BOTTOMRIGHT" x="-8" y="-3" />
            </Anchors>
            <Scripts>
                <OnClick>
                    LM_OptionsUIActionListsEditBox:SetText("")
                </OnClick>
            </Scripts>
        </Button>

        <Button name="$parentRevert" parentKey="Revert" inherits="UIPanelButtonTemplate" text="REVERT">
            <Size x="96" y="22" />
            <Anchors>
                <Anchor relativeTo="$parentDelete" point="TOPRIGHT" relativePoint="TOPLEFT" />
            </Anchors>
            <Scripts>
                <OnClick>
                    LM_OptionsUIPanel_Refresh(self:GetParent())
                </OnClick>
            </Scripts>
        </Button>

    </Frames>

    <Layers>
        <Layer level="ARTWORK">
            <FontString inherits="GameFontNormal" justifyV="TOP" justifyH="LEFT" text="LM_ACTION_LIST_EXP">
                <Anchors>
                    <Anchor point="TOP" y="-48" />
                    <Anchor point="LEFT" x="32" />
                    <Anchor point="RIGHT" x="-32" />
                </Anchors>
            </FontString>
        </Layer>

    </Layers>

    <Scripts>
        <OnLoad function="LM_OptionsUIActionLists_OnLoad" />
    </Scripts>
</Frame>

</Ui>
